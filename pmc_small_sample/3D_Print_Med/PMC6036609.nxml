<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.0 20120330//EN" "JATS-archivearticle1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article"><?properties open_access?><front><journal-meta><journal-id journal-id-type="nlm-ta">3D Print Med</journal-id><journal-id journal-id-type="iso-abbrev">3D Print Med</journal-id><journal-title-group><journal-title>3d Printing in Medicine</journal-title></journal-title-group><issn pub-type="epub">2365-6271</issn><publisher><publisher-name>Springer International Publishing</publisher-name><publisher-loc>Cham</publisher-loc></publisher></journal-meta><article-meta><article-id pub-id-type="pmid">30050972</article-id><article-id pub-id-type="pmc">6036609</article-id><article-id pub-id-type="publisher-id">2</article-id><article-id pub-id-type="doi">10.1186/s41205-015-0002-4</article-id><article-categories><subj-group subj-group-type="heading"><subject>Review</subject></subj-group></article-categories><title-group><article-title>3D printed ventricular septal defect patch: a primer for the 2015 Radiological Society of North America (RSNA) hands-on course in 3D printing</article-title></title-group><contrib-group><contrib contrib-type="author" corresp="yes" equal-contrib="yes"><name><surname>Giannopoulos</surname><given-names>Andreas A.</given-names></name><address><phone>+1-613-737-8571</phone><email>agiannopoulos1@partners.org</email></address><xref ref-type="aff" rid="Aff1">1</xref></contrib><contrib contrib-type="author" equal-contrib="yes"><name><surname>Chepelev</surname><given-names>Leonid</given-names></name><xref ref-type="aff" rid="Aff2">2</xref></contrib><contrib contrib-type="author"><name><surname>Sheikh</surname><given-names>Adnan</given-names></name><xref ref-type="aff" rid="Aff2">2</xref></contrib><contrib contrib-type="author"><name><surname>Wang</surname><given-names>Aili</given-names></name><xref ref-type="aff" rid="Aff2">2</xref></contrib><contrib contrib-type="author"><name><surname>Dang</surname><given-names>Wilfred</given-names></name><xref ref-type="aff" rid="Aff2">2</xref></contrib><contrib contrib-type="author"><name><surname>Akyuz</surname><given-names>Ekin</given-names></name><xref ref-type="aff" rid="Aff2">2</xref></contrib><contrib contrib-type="author"><name><surname>Hong</surname><given-names>Chris</given-names></name><xref ref-type="aff" rid="Aff2">2</xref></contrib><contrib contrib-type="author"><name><surname>Wake</surname><given-names>Nicole</given-names></name><xref ref-type="aff" rid="Aff4">4</xref></contrib><contrib contrib-type="author"><name><surname>Pietila</surname><given-names>Todd</given-names></name><xref ref-type="aff" rid="Aff3">3</xref></contrib><contrib contrib-type="author"><name><surname>Dydynski</surname><given-names>Philip B.</given-names></name><xref ref-type="aff" rid="Aff5">5</xref></contrib><contrib contrib-type="author"><name><surname>Mitsouras</surname><given-names>Dimitrios</given-names></name><xref ref-type="aff" rid="Aff1">1</xref></contrib><contrib contrib-type="author"><name><surname>Rybicki</surname><given-names>Frank J.</given-names></name><xref ref-type="aff" rid="Aff2">2</xref></contrib><aff id="Aff1"><label>1</label>Applied Imaging Science Lab, Department of Radiology, Brigham and Women&#x02019;s Hospital, Boston, MA USA </aff><aff id="Aff2"><label>2</label>The Ottawa Hospital Research Institute and the Department of Radiology, University of Ottawa, Ottawa, ON Canada </aff><aff id="Aff3"><label>3</label>Biomedical Engineering, Materialise, Plymouth, MI USA </aff><aff id="Aff4"><label>4</label>Center for Advanced Imaging Innovation and Research, Bernard and Irene Schwartz Center for Biomedical Imaging, Department of Radiology, New York University Langone Medical Center, New York, NY USA </aff><aff id="Aff5"><label>5</label>Kosair Children&#x02019;s Hospital, Lousiville, KY USA </aff></contrib-group><pub-date pub-type="epub"><day>27</day><month>11</month><year>2015</year></pub-date><pub-date pub-type="pmc-release"><day>27</day><month>11</month><year>2015</year></pub-date><pub-date pub-type="ppub"><year>2015</year></pub-date><volume>1</volume><issue>1</issue><elocation-id>3</elocation-id><history><date date-type="received"><day>29</day><month>9</month><year>2015</year></date><date date-type="accepted"><day>29</day><month>9</month><year>2015</year></date></history><permissions><copyright-statement>&#x000a9; The Author(s) 2015</copyright-statement><license license-type="OpenAccess"><license-p>
<bold>Open Access</bold>This article is distributed under the terms of the Creative Commons Attribution 4.0 International License (<ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">http://creativecommons.org/licenses/by/4.0/</ext-link>), which permits unrestricted use, distribution, and reproduction in any medium, provided you give appropriate credit to the original author(s) and the source, provide a link to the Creative Commons license, and indicate if changes were made.</license-p></license></permissions><abstract id="Abs1"><p id="Par1">Hand-held three dimensional models of the human anatomy and pathology, tailored-made protheses, and custom-designed implants can be derived from imaging modalities, most commonly Computed Tomography (CT). However, standard DICOM format images cannot be 3D printed; instead, additional image post-processing is required to transform the anatomy of interest into Standard Tessellation Language (STL) format is needed. This conversion, and the subsequent 3D printing of the STL file, requires a series of steps. Initial post-processing involves the segmentation-demarcation of the desired for 3D printing parts and creating of an initial STL file. Then, Computer Aided Design (CAD) software is used, particularly for wrapping, smoothing and trimming. Devices and implants that can also be 3D printed, can be designed using this software environment. The purpose of this article is to provide a tutorial on 3D Printing with the test case of complex congenital heart disease (CHD). While the infant was born with double outlet right ventricle (DORV), this hands-on guide to be featured at the 2015 annual meeting of the Radiological Society of North America Hands-on Course in 3D Printing focused on the additional finding of a ventricular septal defect (VSD). The process of segmenting the heart chambers and the great vessels will be followed by optimization of the model using CAD software. A virtual patch that accurately matches the patient&#x02019;s VSD will be designed and both models will be prepared for 3D printing.</p></abstract><kwd-group xml:lang="en"><title>Keywords</title><kwd>3D Printing</kwd><kwd>Congenital heart disease</kwd><kwd>Ventricular septal defect</kwd><kwd>Segmentation</kwd><kwd>Computed-aided design</kwd><kwd>Patch</kwd><kwd>Radiological Society of North America</kwd><kwd>Hands-on Course</kwd><kwd>Medical education</kwd><kwd>Precision medicine</kwd></kwd-group><custom-meta-group><custom-meta><meta-name>issue-copyright-statement</meta-name><meta-value>&#x000a9; The Author(s) 2015</meta-value></custom-meta></custom-meta-group></article-meta></front><body><sec id="Sec1" sec-type="introduction"><title>Introduction</title><p id="Par17">3D printing refers to the fabrication of a tangible object from a digital file by a 3D printer. Materials are commonly deposited layer-by-layer and then fused to form the final three dimensional object. Additive Manufacturing (AM), Rapid Prototyping (RP), and Additive Fabrication (AF) are synonyms for 3D printing. According to the most recent classification by American Society of Testing and Materials (ASTM), there are seven major types of 3D printing technology. Although these technologies share similarities, they differ in speed, cost, and resolution of the product. Moreover, a variety of materials can be used to fabricate the model.</p><p id="Par18">A handheld printed model derived from Digital Imaging and Communications in Medicine (DICOM) images represents a natural progression from 3D visualization [<xref ref-type="bibr" rid="CR1">1</xref>]. DICOM image files cannot be used directly for 3D printing; further steps are necessary to make them readable by 3D printers. The purpose of this hands-on course is to convert a set of DICOM files into a 3D printed model through a series of simple steps. Some of the initial post-processing steps may be familiar to the radiologist, as they share common features with 3D visualization tools that are used for image post-processing tasks such as 3D volume rendering.</p><p id="Par19">Most 3D printed models are derived from DICOM images generated from CT scanners. Images can be reconstructed from isotropic voxels with slice thickness less than or equal to 1.25&#x000a0;mm. For 3D printing, image post-processing has both similarities to and substantial differences from methods used by radiologists for 3D visualization. As in 3D visualization, specific software packages enable segmentation of DICOM images using semi-automated and manual segmentation algorithms, allowing the user to demarcate desired parts. The most commonly used tools are thresholding, region growing, and manual sculpting.</p><p id="Par20">The segmented data are then exported in a file format that can be recognized by 3D printers. In essence, this process is conversion of 2D images to 3D triangular facets that compose a mesh surface. To date, the most widely used format is Standard Tessellation Language (denoted by the file extension &#x0201c;STL&#x0201d;). In most cases, the STL output is not optimized for printing and further refinement is required. This refining step may be unfamiliar even to radiologists versed in 3D visualization; Computer Aided Design (CAD) software is used to perform steps such as &#x0201c;wrapping&#x0201d; and &#x0201c;smoothing&#x0201d; to make the model more homogeneous. A key part of 3D printing is choosing the appropriate hardware technology and material. There are several considerations in choosing which technology to use, such as availability, cost, speed, biocompatibility, and most importantly anticipated usage of the product (e.g., a model for surgical planning versus a custom made implant).</p><p id="Par21">Our ultimate goal is to educate participants about the capabilities of 3D printing and, through this hands-on-exercise, provide an initial working knowledge of how it is performed. This session focuses on image post-processing of DICOM image files generated from a CT scan for 3D printing. Participants will learn to segment simple to moderately complicated structures and prepare them for 3D printing. Using this handout as a guide, we will teach participants to use three software packages, <bold><italic>Mimics</italic></bold> and <bold><italic>3-matic</italic></bold> (Materialise, Leuven, Belgium) and <bold><italic>Objet Studio</italic></bold> (Stratasys Ltd., MN, USA).</p><p id="Par22">
<bold><italic>Mimics</italic></bold> is an image-processing package that interfaces between 2D image data (e.g., CT, MRI) and 3D engineering applications. <bold><italic>Mimics</italic></bold> is widely used in academics, hospitals, and industry for 3D printing as well as for anatomical measurements, 3D analysis, Finite Element Analysis, patient-specific implant or device design, and surgical planning or simulation. Within <bold><italic>Mimics</italic></bold>, users can segment any region of interest that can be seen in the medical data and accurately create a 3D model of patient anatomy. <bold><italic>3-matic</italic></bold> is a Computer Aided Design (CAD) package dedicated for use with anatomical data. It can perform common CAD operations directly on triangulated STL files. It can also be used to optimize the triangle mesh so the anatomical models can be used in a finite element package. <bold><italic>Objet Studio</italic></bold> is a software platform directly connected to the 3D printer that supports STL files from any 3D CAD application. The software offers simple &#x0201c;click &#x00026; build&#x0201d; preparation and print tray editing. It provides easy, accurate job estimation and full job control.</p><p id="Par23">The patient in this workshop, the 3D Printing Hands-on Course at the 2015 annual meeting of the Radiological Society of North America (RSNA), was born with double outlet right ventricle syndrome (DORV), accompanied by a ventricular septal defect (VSD). DORV is a rare congenital heart disease (CHD) involving approximately 1&#x02013;1.5&#x000a0;% of all CHD and with an incidence of 3&#x02013;9 per 100,000 live births [<xref ref-type="bibr" rid="CR2">2</xref>]. It is defined as the type of ventriculo-arterial connection in which both great vessels (aorta and pulmonary artery) arise entirely from the right ventricle [<xref ref-type="bibr" rid="CR3">3</xref>]. It is commonly accompanied with a VSD that allows blood to be transferred from the left ventricle to the right ventricle and then to the aorta. DORV is classified based on the location of the VSD in relation to the great vessels: subaortic, subpulmonic, doubly committed, and non-committed [<xref ref-type="bibr" rid="CR4">4</xref>]. The subpulmonic VSD that is of interest to us in this particular case is a variant of DORV where the pulmonary artery receives oxygenated blood from the left ventricle and into the pulmonary circulation whereas non-oxygenated blood from the RV is streamed to the aorta and thus to the systemic circulation (left to right shunt; Fig.&#x000a0;<xref rid="Fig1" ref-type="fig">1</xref>).<fig id="Fig1"><label>Fig. 1</label><caption><p>Schematic representation of the anatomy and blood circulation in a normal heart (<italic>left</italic>) and in the case of double outlet right ventricle (<italic>right</italic>)</p></caption><graphic xlink:href="41205_2015_2_Fig1_HTML" id="MO1"/></fig>
</p><p id="Par24">Treatment requires definite surgical correction and the repair approaches differ on the basis of the subtypes and co-existence of other heart abnormalities. Of importance during repair is the location and the size of the VSD (including the involvement of the conal septum) [<xref ref-type="bibr" rid="CR4">4</xref>]. For DORV with subpulmonic VSD, the preferred approach is the arterial switch operation along with VSD closure. VSD closure requires a large intra-ventricular baffle/patch sutured into place, closing the ventricular septal defect and redirecting left ventricular outflow to the aorta.</p><p id="Par25">In this course and in order to establish the anatomy of the patient&#x02019;s heart, we will segment the heart and the great vessels along with the VSD. A custom-made patch, based on the patient&#x02019;s anatomy and the dimensions of the defect, will be designed. The final output will be 3D-printable STL files of the heart with the defect and the patch. Because time in the Hands-On Session is limited, the RSNA computers have the CT DICOM images pre-loaded, and the software has already been launched. In practice, these simple initial steps require additional understanding of the software.</p><p id="Par26">In summary, we will design a patch for the VSD using contrast-enhanced cardiac CT images, in four tasks: A) segmentation of the heart and the great vessels, B) editing of the heart model in CAD software in order to expose the relevant anatomy, C) designing of a VSD patch and D) preparing the 3D printing of the heart model and the VSD patch. Before we begin with Task A, we will introduce the <bold><italic>Mimics</italic></bold> software environment, and more specific the menus, the toolbars and the windows (Fig.&#x000a0;<xref rid="Fig2" ref-type="fig">2</xref>) as well as useful shortcuts (Table&#x000a0;<xref rid="Tab1" ref-type="table">1</xref>).<fig id="Fig2"><label>Fig. 2</label><caption><p>
<italic>Mimics</italic> software environment project screen</p></caption><graphic xlink:href="41205_2015_2_Fig2_HTML" id="MO2"/></fig>
<table-wrap id="Tab1"><label>Table 1</label><caption><p>
<italic>Mimics</italic> software, keyboard and mouse shortcuts</p></caption><table frame="hsides" rules="groups"><thead><tr valign="top"><th>Shortcut</th><th>Action</th></tr></thead><tbody><tr valign="top"><td>Scroll wheel (mouse center)</td><td rowspan="2">Pan: Move the mouse while keeping the scroll wheel pressed</td></tr><tr valign="top"><td>OR Shift right click&#x02009;+&#x02009;drag</td></tr><tr valign="top"><td>Ctrl&#x02009;+&#x02009;right click&#x02009;+&#x02009;drag</td><td>Zoom: Move the mouse vertically while keeping the buttons pressed to zoom in and out</td></tr><tr valign="top"><td>Arrow Up/Scroll wheel up</td><td>Go to next slice</td></tr><tr valign="top"><td>Arrow Down/Scroll wheel down</td><td>Go to previous slice</td></tr><tr valign="top"><td>Page Up</td><td>Skip 10 slices upward</td></tr><tr valign="top"><td>Page Down</td><td>Skip 10 slices downward</td></tr><tr valign="top"><td>CTRL&#x02009;+&#x02009;L</td><td>Make slice indicators visible/invisible</td></tr><tr valign="top"><td>SPACE</td><td>Zoom the chosen view to full screen and back</td></tr><tr valign="top"><td>Backspace</td><td>Switch between two window states</td></tr><tr valign="top"><td>CTRL&#x02009;+&#x02009;Z</td><td>Undo the previous action.</td></tr><tr valign="top"><td>Right click&#x02009;+&#x02009;drag on images</td><td>Adjusts contrast window in images</td></tr></tbody></table></table-wrap>
</p></sec><sec id="Sec2"><title>Task A: creating a mask of (Segmenting) the heart</title><sec id="Sec3"><title>What we are doing</title><p id="Par27">Segmenting the heart. The term &#x0201c;segmentation&#x0201d; describes the task of identifying specific voxels in a region of interest such as the heart chambers and the great vessels. We will isolate the contrast-enhanced chambers and vasculature from the rest of the data in the DICOM images.</p></sec><sec id="Sec4"><title>Why we are doing it</title><p id="Par28">To identify the voxels that will eventually be represented in the 3D printed model.</p></sec><sec id="Sec5"><title>How to do it</title><p id="Par29">The two segmentation tools that we will be using are &#x0201c;<bold><italic>Thresholding</italic></bold>&#x0201d; and &#x0201c;<bold><italic>Region Growing</italic></bold>&#x0201d;. Both may be familiar from experience with standard 3D visualization. <bold><italic>Thresholding</italic></bold> isolates voxels with attenuation within a specified Hounsfield Unit (HU) range. In <bold><italic>Region Growing</italic></bold>, the user manually identifies a seed point and the software selects voxels within the specified HU range that are physically connected to that seed point.</p><p id="Par30">Each of these steps creates a &#x0201c;<bold>mask</bold>&#x0201d;, namely an intermediate model that could be printed after further manipulations. A list of the masks we will create will appear in the first pane of the Project Management Toolbar (located on the top right of the screen).<list list-type="order"><list-item><p id="Par31">From the <bold><italic>Segment</italic></bold> menu (Fig.&#x000a0;<xref rid="Fig3" ref-type="fig">3</xref>) in the Menu Toolbar (1), choose <inline-graphic xlink:href="41205_2015_2_Figa_HTML.gif" id="d29e657"/>
<bold><italic>Thresholding</italic></bold>. This opens the <bold><italic>Thresholding</italic></bold> window where we can specify a HU range. This step creates a mask containing only the pixels that fall within the specified HU range. [<italic>Note: you may also use the</italic>
<bold><italic>Segment</italic></bold>
<italic>tab tools as demonstrated in</italic> Fig.&#x000a0;<xref rid="Fig3" ref-type="fig">3</xref>
<bold>(1, 2)</bold>
<italic>.</italic>] In the <bold>Thresholding</bold> window, set the HU range from 440 to 3071 to eliminate those tissues that fall outside 440-3071 HU <bold>(3)</bold>. Contrast material in the heart and vessels will appear green in the images. Click <bold>Apply (4)</bold>.<fig id="Fig3"><label>Fig. 3</label><caption><p>
<italic>Thresholding</italic> segmentation process. <italic>Thresholding</italic> can be selected from the Menu Toolbar (1) or from the Segment tab (2). In the Thresholding window (<italic>bottom right</italic>) a HU range from 440 to 3071 is set (3). After clicking Apply (4) the contrast material in the heart and vessels appears green in the images</p></caption><graphic xlink:href="41205_2015_2_Fig3_HTML" id="MO3"/></fig>
</p></list-item><list-item><p id="Par32">From the <bold><italic>Segment</italic></bold> Menu (Fig.&#x000a0;<xref rid="Fig4" ref-type="fig">4</xref>) <bold>(1)</bold>
<italic>,</italic> choose <inline-graphic xlink:href="41205_2015_2_Figb_HTML.gif" id="d29e732"/>
<bold><italic>Region Growing</italic></bold>
<bold>(2)</bold>. This tool creates a new mask (yellow) containing only those voxels within the source (green) mask that are connected to the seed point that we identified. This removes all the bones and unrelated structures that fall into the 440&#x02013;3071 HU range. Left-click on a point <bold>within</bold> the heart in any of the three planes [e.g., click at point <bold>(3)</bold>] to specify a seed point. This will highlight the heart chambers, the large vessels and smaller branches in yellow, while the rest of the highlighted tissue from the previous mask (e.g. bone) remains in green. Close the <bold><italic>Region Growing</italic></bold> tool <bold>(4)</bold>.<fig id="Fig4"><label>Fig. 4</label><caption><p>
<italic>Region Growing</italic> segmentation process. <italic>Region Growing</italic> can be selected from the Menu Toolbar (1) or from the Segment tab (2). A seed point is selected by left clicking a seed point in the heart atrium (3). Once selected a yellow mask is generated and the Region Growing window can be closed (4)</p></caption><graphic xlink:href="41205_2015_2_Fig4_HTML" id="MO4"/></fig>
</p><p id="Par33">
<bold><italic>Hint: Make sure the</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Figc_HTML.gif" id="d29e776"/>
<bold><italic>option box is selected. This will perform the operation throughout the entire image stack as opposed to only one cross-section.</italic></bold>
</p></list-item><list-item><p id="Par34">Next, we will create a 3D rendering of the heart and vessels from the yellow mask. This intermediate step allows us to visualize the result of the two segmentation steps combined. From the <bold><italic>Segment</italic></bold> Menu<bold><italic>,</italic></bold> choose <inline-graphic xlink:href="41205_2015_2_Figd_HTML.gif" id="d29e794"/>
<bold><italic>Calculate 3D</italic></bold>. The <italic>Calculate 3D</italic> window will show up (Fig.&#x000a0;<xref rid="Fig5" ref-type="fig">5</xref>). Ensure that the yellow mask is highlighted and the <bold>Quality</bold> is set to &#x0201c;Optimal&#x0201d; and hit the <bold>Calculate</bold> button to create a 3D object.<fig id="Fig5"><label>Fig. 5</label><caption><p>Calculate 3D window. The Yellow mask is selected and Quality is set to optimal</p></caption><graphic xlink:href="41205_2015_2_Fig5_HTML" id="MO5"/></fig>
</p><p id="Par35">The 3D object we have created appears in the <italic>3D View</italic> window as well as on the second pane of the <bold>Project Management</bold> toolbar. To adjust the visualization in the <italic>3D View</italic> window, zoom with the mouse wheel and pan by holding the wheel down and moving the mouse. To show the rendering on the full screen, either hover the mouse cursor over or click on the <italic>3D View</italic> window (the bottom right image) and hit the spacebar. For better visualization we can toggle between the CT reference planes by selecting from the <bold><italic>View</italic></bold> menu, <bold><italic>3D Viewports</italic></bold> and checking or unchecking <bold><italic>Reference Planes</italic></bold>. The screen can be reset to the 4-image view by hitting the spacebar again. Note that at any point in time, you may hide or show the 3D object by clicking on the <bold>eyeglasses</bold>
<inline-graphic xlink:href="41205_2015_2_Fige_HTML.gif" id="d29e850"/> in the Project Management Toolbar (Fig.&#x000a0;<xref rid="Fig6" ref-type="fig">6</xref>) <bold>(1)</bold>.<fig id="Fig6"><label>Fig. 6</label><caption><p>3D View of the created 3D Object &#x02013;Yellow (1). Review of the anatomical structures</p></caption><graphic xlink:href="41205_2015_2_Fig6_HTML" id="MO6"/></fig>
</p><p id="Par36">
<bold><italic>Note</italic></bold>
<italic>: We have now calculated a 3D surface model of the region that was highlighted in the &#x0201c;Yellow&#x0201d; mask. This model is an STL file that describes the geometry as a set of connected triangles. STL is the file format needed to create a 3D printed geometry. This differs from a volume rendered model (i.e., 3D visualization) in that it contains exportable surfaces.</italic>
</p></list-item><list-item><p id="Par37">Finally, we will rename our 3D Object to &#x0201c;<bold>Heart Contrast</bold>&#x0201d; in order to facilitate the following steps. To do this, left-click on the current name of the 3D object (Fig.&#x000a0;<xref rid="Fig7" ref-type="fig">7</xref>), <bold>Yellow 1</bold> in the 3D Objects list in the Project Management Toolbar <bold>(1)</bold> and type in <bold>Heart Contrast</bold>, then press <inline-graphic xlink:href="41205_2015_2_Figf_HTML.gif" id="d29e900"/> on your keyboard.<fig id="Fig7"><label>Fig. 7</label><caption><p>Renaming the 3D Object&#x02013;Yellow (1) to Heart Contrast</p></caption><graphic xlink:href="41205_2015_2_Fig7_HTML" id="MO7"/></fig>
</p></list-item></list>
</p></sec></sec><sec id="Sec6"><title>Task B: exporting the 3D model and editing in 3-matic</title><sec id="Sec7"><title>What we are doing</title><p id="Par38">Exporting the STL file from <bold><italic>Mimics</italic></bold> to <bold><italic>3-matic</italic></bold>, which is a CAD software so as to perform a number of post-processing steps. In <bold><italic>3-matic</italic></bold>, the STL file will undergo two smoothing steps, namely the &#x0201c;<bold><italic>Wrapping</italic></bold>
<italic>&#x0201d;</italic> and an additional level of smoothing called &#x0201c;<bold><italic>Smoothing</italic></bold>
<italic>&#x0201d;</italic>. Then, the heart and vessel wall will be rendered around the heart chambers and vessel lumen. The STL file will finally undergo trimming and the intracardiac structures will be revealed.</p></sec><sec id="Sec8"><title>Why we are doing it</title><p id="Par39">To refine our 3D model and to eliminate surface imperfections in the 3D printed model. &#x0201c;<bold><italic>Wrapping</italic></bold>
<italic>&#x0201d;</italic> will fill any holes and create a smooth watertight surface. The extra level of smoothing (&#x0201c;<bold><italic>Smoothing</italic></bold>
<italic>&#x0201d;)</italic> is needed in order to decrease the amount of &#x0201c;noise&#x0201d; that is introduced during the scanning process. We will create a rendering of the heart chambers and the vasculature wall rather than the opacified intraluminal blood pool so that the printed model better represents the septal wall.</p></sec><sec id="Sec9"><title>How to do it</title><p id="Par40">We will export the final iteration of our STL file from <bold><italic>Mimics</italic></bold> into <bold><italic>3-matic</italic></bold>. In 3-matic, we will perform the &#x0201c;<bold><italic>Wrapping</italic></bold>
<italic>&#x0201d;</italic> and an additional smoothing step (&#x0201c;<bold><italic>Smoothing</italic></bold>
<italic>&#x0201d;)</italic>. A rendering of the heart and vessel walls will be generated using the <italic>&#x0201c;</italic>
<bold><italic>Hollow</italic></bold>
<italic>&#x0201d;</italic> tool. We will then obtain an intracardiac view of the VSD and the outflows of the great vessels within the hollowed model after trimming the heart into two portions using the &#x0201c;<bold><italic>Trim</italic></bold>&#x0201d; tool.<list list-type="order"><list-item><p id="Par41">From the <bold><italic>File</italic></bold> Menu<bold><italic>,</italic></bold> select <bold><italic>Export,</italic></bold> and then <bold><italic>3-matic.</italic></bold> In the dialog box that appears (Fig.&#x000a0;<xref rid="Fig8" ref-type="fig">8</xref>), select the 3D Object named <bold>Heart Contrast</bold> and click OK to launch the 3-matic software so as to begin the refinement and editing. At this point we will introduce the <bold><italic>3-matic</italic></bold> software environment, and more specific the menus, the toolbars and the windows (Fig.&#x000a0;<xref rid="Fig9" ref-type="fig">9</xref>) as well as useful shortcuts (Table&#x000a0;<xref rid="Tab2" ref-type="table">2</xref>).<fig id="Fig8"><label>Fig. 8</label><caption><p>Exporting from <italic>Mimics</italic> to <italic>3-matic</italic>
</p></caption><graphic xlink:href="41205_2015_2_Fig8_HTML" id="MO8"/></fig>
<fig id="Fig9"><label>Fig. 9</label><caption><p>
<italic>3-matic</italic> software environment project screen</p></caption><graphic xlink:href="41205_2015_2_Fig9_HTML" id="MO9"/></fig>
<table-wrap id="Tab2"><label>Table 2</label><caption><p>
<italic>3-matic</italic> software, keyboard and mouse shortcuts</p></caption><table frame="hsides" rules="groups"><thead><tr valign="top"><th>Shortcut</th><th>Action</th></tr></thead><tbody><tr valign="top"><td>Scroll wheel (center mouse)</td><td rowspan="2">Pan: Move the mouse while keeping the scroll wheel pressed</td></tr><tr valign="top"><td>OR Shift&#x02009;+&#x02009;right click&#x02009;+&#x02009;drag</td></tr><tr valign="top"><td>Ctrl&#x02009;+&#x02009;right click&#x02009;+&#x02009;drag</td><td rowspan="2">Zoom: Move the mouse vertically while keeping the buttons pressed to zoom in and out. Alternatively, use the mouse wheel.</td></tr><tr valign="top"><td>OR Scroll Wheel Up/Down</td></tr><tr valign="top"><td rowspan="2">Right Click&#x02009;+&#x02009;Drag</td><td>Rotate model</td></tr><tr valign="top"><td>
<italic>Hint: To rotate the 3D Object, make sure to select it by either left-clicking on it, or by selecting it from the Scene Tree</italic>
</td></tr><tr valign="top"><td>Numeric Keypad 8</td><td>View from top</td></tr><tr valign="top"><td>Numeric Keypad 6</td><td>View from right</td></tr></tbody></table></table-wrap>
</p></list-item><list-item><p id="Par42">Apply the <bold><italic>Wrap</italic></bold> operation. First, from the <bold>View</bold> menu select Default Views and then left click on Top (<italic>Hint: you can also press the</italic>
<bold><italic>numeric keypad 8 key</italic></bold>). Then, select the <bold><italic>Heart Contrast</italic></bold> model from the Scene Tree (Fig.&#x000a0;<xref rid="Fig10" ref-type="fig">10</xref>
<bold>)</bold>. Now from the <bold>Fix</bold> Menu, choose <bold>Wrap</bold>
<inline-graphic xlink:href="41205_2015_2_Figg_HTML.gif" id="d29e1169"/> to eliminate gaps and smooth rough areas on your model. The <bold><italic>Gap Closing Distance</italic></bold> should be set as default at 0&#x000a0;mm. The gap closing distance refers to the largest separation between points for which anatomic variations will be smoothed. The <bold><italic>Smallest Detail</italic></bold> in the new window should be set at 0.5&#x000a0;mm; this is on the order of the size of the CT voxel. Rough areas that represent image noise will be eliminated.<fig id="Fig10"><label>Fig. 10</label><caption><p>
<italic>Wrap</italic> operation. Scene Tree and Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig10_HTML" id="MO10"/></fig>
</p><p id="Par43">You obtain a wrapped model, named <bold>Heart Contrast_wrapped</bold>, which appears at the <bold><italic>Scene Tree</italic></bold>. At this point, we will have two 3D objects overlapping: the <bold>Heart Contrast</bold> model and the <bold>Heart Contrast_wrapped</bold> model. We want to visualize only the latter. On the <bold><italic>Scene Tree</italic></bold>, right-click on the original 3D model icon <bold>(Heart Contrast)</bold> and click <bold><italic>Hide</italic></bold> (Fig.&#x000a0;<xref rid="Fig11" ref-type="fig">11</xref>).<fig id="Fig11"><label>Fig. 11</label><caption><p>Toggling between the visibility of the original and the wrapped Heart Contrast model</p></caption><graphic xlink:href="41205_2015_2_Fig11_HTML" id="MO11"/></fig>
</p></list-item><list-item><p id="Par44">Apply the <bold><italic>Smooth</italic></bold> operation. First, click the <bold><italic>Heart Contrast_wrapped</italic></bold> model icon from the Scene Tree so that the wrapped 3D model appears as the <bold>Entities</bold> value. Then, from the <bold>Fix</bold> Menu, choose <inline-graphic xlink:href="41205_2015_2_Figh_HTML.gif" id="d29e1247"/>
<bold><italic>Smooth</italic></bold>. Set a <bold><italic>smooth factor</italic></bold> of 0.3 and click the <bold>Apply</bold> button (Fig.&#x000a0;<xref rid="Fig12" ref-type="fig">12</xref>). Of note, this operation will not result in the creation of a new 3D object on the <bold><italic>Scene Tree</italic></bold>.<fig id="Fig12"><label>Fig. 12</label><caption><p>
<italic>Smooth</italic> operation. Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig12_HTML" id="MO12"/></fig>
</p></list-item><list-item><p id="Par45">We will now use the wrapped 3D model that represents the blood pool in order to create an approximation of the inner surface of the walls of the heart and the vasculature. To do this, the contrast in the heart chambers and the vessel lumen will be offset with a constant wall thickness. First, from the <bold>Design</bold> Menu select <bold><italic>Hollow</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Figi_HTML.gif" id="d29e1291"/>. Click on the <bold><italic>Heart Contrast_wrapped</italic></bold> model icon from the <bold><italic>Scene Tree</italic></bold> so that the wrapped 3D model appears as the <bold>Entities</bold> value. Set the <bold><italic>Hollow type</italic></bold> to outside, the <bold><italic>Distance</italic></bold> (which represents the wall thickness) to 1.5&#x000a0;mm and the <bold><italic>Smallest detail</italic></bold> (the size of the triangles of the newly created wall) to 0.75, as shown in Fig.&#x000a0;<xref rid="Fig13" ref-type="fig">13</xref>.<fig id="Fig13"><label>Fig. 13</label><caption><p>
<italic>Hollow</italic> operation. Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig13_HTML" id="MO13"/></fig>
</p><p id="Par46">As with the <bold><italic>Smooth</italic></bold> operation, this will not result in the creation of a new 3D object on the <bold><italic>Scene Tree</italic></bold>, rather will &#x0201c;inflate&#x0201d; the current 3D model. Figure&#x000a0;<xref rid="Fig14" ref-type="fig">14</xref> shows the model before (left) and after (right) applying the <bold><italic>Hollow</italic></bold> operation.<fig id="Fig14"><label>Fig. 14</label><caption><p>
<italic>Hollow</italic> operation end result. Note the differences between the model pre (<italic>left</italic>) and post adding a wall thickness (<italic>right</italic>)</p></caption><graphic xlink:href="41205_2015_2_Fig14_HTML" id="MO14"/></fig>
</p></list-item><list-item><p id="Par47">In order to visualize the VSD and the outlets of the great vessels, we need to obtain an intracardiac view by cutting open the ventricles. This will be performed, using the <bold><italic>Trim</italic></bold> tool. First, we will position the heart for trimming. From the <bold>View</bold> menu select <bold>Default Views</bold> and then left click on <bold>Top</bold> (<italic>Hint: you can also press the</italic>
<bold><italic>numeric keypad 8 key</italic></bold>
<bold>).</bold> This will allow us to view the model from above. From the <bold>Finish</bold> Menu select <bold><italic>Trim</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Figj_HTML.gif" id="d29e1396"/>. Select the wrapped and hollowed model (<bold><italic>Heart Contrast_wrapped)</italic></bold> in the <bold><italic>Scene Tree</italic></bold> so that it appears as the <bold>Entities</bold> value. Set the parameters as shown in Fig.&#x000a0;<xref rid="Fig15" ref-type="fig">15</xref>: choose <bold><italic>Remove outer</italic></bold> (the area outside the trimming outline will be trimmed away) in trimming method and make sure that <bold><italic>Fillet</italic></bold> is unchecked.<fig id="Fig15"><label>Fig. 15</label><caption><p>
<italic>Trim</italic> operation. Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig15_HTML" id="MO15"/></fig>
</p><p id="Par48">We shall now trim away part of the hollowed model so as to expose the ventricular septal defect. This will further allow us to design the patch. To do this we will draw a triangle by indicating three landmark points as described below and visualized in Fig.&#x000a0;<xref rid="Fig16" ref-type="fig">16</xref>:<list list-type="alpha-lower"><list-item><p id="Par49">The first landmark point will be set between the left and the right ventricle.</p></list-item><list-item><p id="Par50">The second landmark point will be set between the anterior aspect of the right atrium and the pulmonary vasculature.</p></list-item><list-item><p id="Par51">The third and final landmark point will be set between the lateral aspect of the left atrium and the pulmonary vasculature. You will then connect the third landmark point with the first point (a), thus designing a triangle.</p><p id="Par52">Click on <bold>Apply</bold> in the <bold>Operations</bold> tab. The portions of the heart outside the indicated triangle will be removed, while the inside portions will be preserved. Of note, this will not result in the creation of a new 3D object in the <bold><italic>Scene Tree</italic></bold>.</p></list-item></list>
<fig id="Fig16"><label>Fig. 16</label><caption><p>Exposing the ventricular septal defect. Trimming the hollowed heart model by designing a triangle by connecting 3 distinct landmark points</p></caption><graphic xlink:href="41205_2015_2_Fig16_HTML" id="MO16"/></fig>
</p></list-item></list>
</p><p id="Par53">To review the anatomy, we will orient the trimmed model appropriately by selecting from the <bold>View</bold> menu, <bold>Default Views</bold> and then left clicking on <bold>Right</bold> (<italic>Hint: you can also press the</italic>
<bold><italic>numeric keypad 6 key</italic></bold>). This will show the trimmed heart model from the right aspect. Now, make the initial <bold>Heart Contrast</bold> model visible by right-clicking on <bold>its icon</bold> in the <bold><italic>Scene Tree</italic></bold> and selecting <bold>Show</bold>. You will appreciate the relationship between the 3D model that represents the contrast-enhanced blood pool from the initial CT scan (<bold><italic>Heart Contrast</italic></bold>
<bold>)</bold> and the hollow model representing the wall of the heart chambers and the vasculature (<bold><italic>Heart Contrast_wrapped)</italic></bold> (Fig.&#x000a0;<xref rid="Fig17" ref-type="fig">17</xref>).<fig id="Fig17"><label>Fig. 17</label><caption><p>Reviewing the anatomy after revealing the ventricular septal defect. The initial (<italic>Heart Contrast</italic>) model in yellow and the hollowed model (<italic>Heart Contrast_wrapped)</italic> representing the wall of the heart chambers and the vasculature model in blue are superimposed in order to appreciate the anatomical relationships</p></caption><graphic xlink:href="41205_2015_2_Fig17_HTML" id="MO17"/></fig>
</p><p id="Par54">Once satisfied with the review of the anatomy, hide the initial <bold>Heart Contrast</bold> model by right-clicking on <bold>its icon</bold> and selecting <bold>Hide</bold> on the <bold><italic>Scene Tree</italic></bold> menu. You will now be able to view the internal structures of the two ventricles, including the VSD (highlighted with a yellow circle below) and the outflows of the aorta and the pulmonary artery (Fig.&#x000a0;<xref rid="Fig18" ref-type="fig">18</xref>).<fig id="Fig18"><label>Fig. 18</label><caption><p>Intracardiac view of the ventricular septal defect (highlighted with a <italic>yellow circle</italic> below) and the outflows of the aorta and the pulmonary artery. <italic>Left panel</italic> shows view from right and <italic>right panel</italic> shows view from left</p></caption><graphic xlink:href="41205_2015_2_Fig18_HTML" id="MO18"/></fig>
</p><p id="Par55">Following the trimming process we will notice a number of unconnected remnants that are defined as floating shells. These will now be selected and removed. (<italic>Hint: A shell is defined as a limited collection of triangles correctly connected to each other.)</italic> From the <bold>Mark</bold> Menu select <bold><italic>Shell</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Figk_HTML.gif" id="d29e1585"/>
<italic>.</italic> Click on a point anywhere on the <bold><italic>Heart Contrast_wrapped</italic></bold> model in the <bold>3D View</bold> screen. The marked area will turn orange and appears in the <bold><italic>Scene Tree</italic></bold>. From the <bold>Mark</bold> Menu select <bold><italic>Invert Marking</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Figl_HTML.gif" id="d29e1607"/>
<italic>.</italic> This will transfer the marked area from the heart to all floating shells. (Fig.&#x000a0;<xref rid="Fig19" ref-type="fig">19</xref>). Hit the <inline-graphic xlink:href="41205_2015_2_Figm_HTML.gif" id="d29e1617"/> key on your keyboard to discard the marked floating shells.<fig id="Fig19"><label>Fig. 19</label><caption><p>Removal of floating shells. Clicking on a point anywhere on the model in the marked area turns orange (<italic>left</italic>). Applying the <italic>Invert Marking</italic> transfers the marked area from the heart to all floating shells</p></caption><graphic xlink:href="41205_2015_2_Fig19_HTML" id="MO19"/></fig>
</p></sec></sec><sec id="Sec10"><title>Task C. Designing a virtual patch for the VSD</title><sec id="Sec11"><title>What you are doing</title><p id="Par56">We will design a virtual patch that covers the VSD. The patch will be first manually drawn to accurately match the patient&#x02019;s anatomy. Then, the corresponding surface will be created and a wall thickness will be added to it.</p></sec><sec id="Sec12"><title>Why you are doing it</title><p id="Par57">
<bold><italic>3-matic</italic></bold> provides the ability to design custom devices/patches based on the patient&#x02019;s anatomy.</p></sec><sec id="Sec13"><title>How to do it</title><p id="Par58">We will use the <bold>Create Curve</bold> module to draw the patch on the trimmed 3D model of the heart chambers that gives us the ability to view the VSD from within the heart. This curve will then be transformed into a surface by applying the <bold>Fix Hole</bold> module. A wall thickness will be added to the surface, thus giving it the width of the intraventricular septum, using the <bold>Hollow</bold> operation.<list list-type="order"><list-item><p id="Par59">Select <bold><italic>Curve</italic></bold> from the Menu Toolbar and use the <bold><italic>Create curve</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Fign_HTML.gif" id="d29e1679"/> operation to draw the curve that will be used to create the patch. In the <bold><italic>Create curve</italic></bold> tab under <bold>Operations</bold>, set curve creation method as <bold><italic>smooth curve</italic></bold>, check <bold><italic>attract curve</italic></bold>, and set distance threshold to <bold><italic>5.0</italic></bold> (Fig.&#x000a0;<xref rid="Fig20" ref-type="fig">20</xref>). Ensure that you rotate and zoom in on the ventricular septal defect. We will use landmark points to indicate the contour of the ventricular defect by left clicking to place each point. We recommend that you begin and end the curve at an area that is easy to visualize. <italic>(Hint: if you feel you have made an error, you may always undo any operation by pressing</italic>
<inline-graphic xlink:href="41205_2015_2_Figo_HTML.gif" id="d29e1704"/>
<italic>on your keyboard).</italic> It is important that you do not close the curve, as shown in Fig.&#x000a0;<xref rid="Fig21" ref-type="fig">21</xref>. Once you are satisfied with your outline of the patch, press <inline-graphic xlink:href="41205_2015_2_Figp_HTML.gif" id="d29e1714"/> key on your keyboard and then left click on <bold>Cancel</bold> in the <bold>Operations</bold> window. On the <bold><italic>Scene Tree</italic></bold> menu a <inline-graphic xlink:href="41205_2015_2_Figq_HTML.gif" id="d29e1727"/>
<bold><italic>Curve</italic></bold> item will appear and we will select it by left clicking. Now, return to the <bold>Curve</bold> menu and select the <bold>Close Curve</bold> operation which will connect the first and the last points of this curve. Ensure that the newly created <inline-graphic xlink:href="41205_2015_2_Figr_HTML.gif" id="d29e1739"/>
<bold><italic>Curve</italic></bold> is in the entities list and that the curve closing method is <bold>Free Curve</bold> and press Apply (Fig.&#x000a0;<xref rid="Fig22" ref-type="fig">22</xref>).</p></list-item><list-item><p id="Par60">To create a new VSD patch object, we will right mouse click on the <inline-graphic xlink:href="41205_2015_2_Figs_HTML.gif" id="d29e1758"/>
<bold><italic>Curve</italic></bold> in the <bold><italic>Scene Tree</italic></bold> and select Separate &#x0003e; Move to part &#x0003e; Create New as depicted in Fig.&#x000a0;<xref rid="Fig23" ref-type="fig">23</xref>. A new object (<bold><italic>Heart Contrast_wrapped-001</italic></bold>) appears in the <bold><italic>Scene Tree</italic></bold> and this will represent the patch. Change name to <bold>Patch</bold> by left mouse clicking on it in the <bold><italic>Scene Tree</italic></bold>, typing in <bold>Patch</bold> and pressing <inline-graphic xlink:href="41205_2015_2_Figt_HTML.gif" id="d29e1786"/> on your keyboard. We should hide now the <bold><italic>Heart Contrast_wrapped</italic></bold> model and leave only the patch visible.</p></list-item><list-item><p id="Par61">In the next step we will fit a surface onto this curve using the <bold><italic>Fill Hole Freeform</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Figu_HTML.gif" id="d29e1801"/> operation from the <bold>Fix</bold> menu. Under the <bold>Patch</bold> object in the <bold><italic>Scene Tree</italic></bold>, select <bold><italic>Curve</italic></bold> under <bold><italic>the Curve List</italic></bold>. In the <bold><italic>Operations</italic></bold> tab and under the Fill Hole Freeform parameters, the <bold><italic>Triangulation</italic></bold> method should be set to Coarse, the <bold><italic>Tangent</italic></bold> should be selected and then click <bold>Apply</bold> (Fig.&#x000a0;<xref rid="Fig24" ref-type="fig">24</xref>)<italic>.</italic>
</p><p id="Par62">This operation produces a surface that fills the <bold><italic>Curve</italic></bold> which we have drawn around the VSD, albeit creating a surface without thickness (Fig.&#x000a0;<xref rid="Fig25" ref-type="fig">25</xref>).</p></list-item><list-item><p id="Par63">Add thickness to the surfuce. We will use the <bold><italic>Hollow</italic></bold> tool<inline-graphic xlink:href="41205_2015_2_Figv_HTML.gif" id="d29e1856"/> as in <bold>Task B</bold>. First, click the <bold><italic>Patch</italic></bold> model icon from the <bold><italic>Scene Tree</italic></bold> so that the <bold><italic>Patch</italic></bold> appears as the <bold>Entities</bold> value. From the <bold>Design</bold> Menu select <bold><italic>Hollow</italic></bold>
<inline-graphic xlink:href="41205_2015_2_Figw_HTML.gif" id="d29e1881"/>. Set the <bold><italic>Hollow type</italic></bold> to both, the <bold><italic>Distance</italic></bold> (which represents the wall thickness) to 0.75&#x000a0;mm and the <bold><italic>Smallest detail</italic></bold> (the size of the triangles of the newly created wall) to 0.75&#x000a0;mm, as shown in Fig.&#x000a0;<xref rid="Fig26" ref-type="fig">26</xref>. Click on <bold>Apply</bold> to produce the patch with the wall thickness (Fig.&#x000a0;<xref rid="Fig27" ref-type="fig">27</xref>).</p><p id="Par64">Now you may examine how the VSD patch fills the defect by making the rest of the heart outline visible. Right mouse click on the icon of the <bold><italic>Heart Contrast_wrapped</italic></bold> object and select <bold>Show</bold>. Rotate, pan, and zoom as necessary to locate the patch inside the heart model (Fig.&#x000a0;<xref rid="Fig28" ref-type="fig">28</xref>).</p></list-item><list-item><p id="Par65">As a last step we will export the STL files of the trimmed Heart model (<bold><italic>Heart Contrast_wrapped)</italic></bold> and the VSD patch (<bold><italic>Patch)</italic></bold>. Make sure that both the <bold><italic>Heart Contrast_wrapped</italic></bold> model and the <bold><italic>Patch</italic></bold> appear as the <bold>Entities</bold> value. Select <bold>File</bold> &#x0003e;<bold>Export</bold> &#x0003e;<bold>Export as binary STL</bold>. Select the <bold>Desktop</bold> as the destination directory and click on <bold>Apply</bold>.</p></list-item></list>
<fig id="Fig20"><label>Fig. 20</label><caption><p>
<italic>Create Curve</italic> operation. Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig20_HTML" id="MO20"/></fig>
<fig id="Fig21"><label>Fig. 21</label><caption><p>Creating the ventricular septal defect Curve. Note that the curve is not closed</p></caption><graphic xlink:href="41205_2015_2_Fig21_HTML" id="MO21"/></fig>
<fig id="Fig22"><label>Fig. 22</label><caption><p>
<italic>Close Curve</italic> operation. Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig22_HTML" id="MO22"/></fig>
<fig id="Fig23"><label>Fig. 23</label><caption><p>Creating a new ventricular septal defect 3D object that will represent the <italic>Patch</italic>
</p></caption><graphic xlink:href="41205_2015_2_Fig23_HTML" id="MO23"/></fig>
<fig id="Fig24"><label>Fig. 24</label><caption><p>
<italic>Fill Hole Freeform</italic> operation. Scene Tree and Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig24_HTML" id="MO24"/></fig>
<fig id="Fig25"><label>Fig. 25</label><caption><p>
<italic>Fill Hole Freeform</italic> end-result. A ventricular septal defect filling surface (representing the Patch) with no wall thickness</p></caption><graphic xlink:href="41205_2015_2_Fig25_HTML" id="MO25"/></fig>
<fig id="Fig26"><label>Fig. 26</label><caption><p>Adding a wall thickness to the <italic>Patch</italic> using the <italic>Hollow</italic> operation. Operations tab selections</p></caption><graphic xlink:href="41205_2015_2_Fig26_HTML" id="MO26"/></fig>
<fig id="Fig27"><label>Fig. 27</label><caption><p>
<italic>Hollow</italic> operation end-result. The <italic>Patch</italic> now has obtained the needed wall thickness</p></caption><graphic xlink:href="41205_2015_2_Fig27_HTML" id="MO27"/></fig>
<fig id="Fig28"><label>Fig. 28</label><caption><p>Visualizing the accurate matching of the <italic>Patch</italic> and the ventricular septal defect</p></caption><graphic xlink:href="41205_2015_2_Fig28_HTML" id="MO28"/></fig>
</p></sec></sec><sec id="Sec14"><title>Task D: 3D printing the heart and the VSD patch STL files</title><sec id="Sec15"><title>What you are doing</title><p id="Par66">Using a new software platform called <bold><italic>Objet Studio</italic></bold> to place the heart model and the VSD patch on the &#x0201c;build tray&#x0201d;, the platform on which the model will be built. After visualizing the heart and the patch from different perspectives, we will assign the material and &#x0201c;send&#x0201d; the job to the 3D printer.</p></sec><sec id="Sec16"><title>Why you are doing it</title><p id="Par67">In <bold><italic>Mimics</italic></bold> and <bold><italic>3-matic</italic></bold>, we have generated the STL file. <bold><italic>Objet Studio</italic></bold> is a software package associated with the 3D printer and it is used to organize print jobs, select the materials, and execute printing.</p></sec><sec id="Sec17"><title>How to do it</title><p id="Par68">The STL file will be imported into the new software package. Next, the file will be rendered exactly as it will be 3D printed on the build tray. The orientation can then be adjusted, and the material of choice selected. Build time and material usage will also be estimated.</p><p id="Par69">We have now switched software packages and will simulate the printing of the heart and VSD model using <bold><italic>Objet Studio</italic></bold>.<list list-type="order"><list-item><p id="Par70">Start <bold><italic>Objet Studio</italic></bold> by double-clicking on the Objet Studio icon <inline-graphic xlink:href="41205_2015_2_Figx_HTML.gif" id="d29e2119"/> on your Desktop. A dialog box will open, asking you to select a printing server connection. We will not have a server at RSNA, so we will select &#x0201c;No&#x0201d; (Fig.&#x000a0;<xref rid="Fig29" ref-type="fig">29</xref>). This will allow us to work off-line. The main screen of <bold><italic>Objet Studio</italic></bold> will load as shown in Fig.&#x000a0;<xref rid="Fig30" ref-type="fig">30</xref>.</p></list-item><list-item><p id="Par71">To import the trimmed heart and the VSD patch STL file, click the upper left menu icon <bold>Insert</bold>
<inline-graphic xlink:href="41205_2015_2_Figy_HTML.gif" id="d29e2140"/>, and select both STL files from the dialog box that opens by left mouse clicking (Fig.&#x000a0;<xref rid="Fig31" ref-type="fig">31</xref>). (<italic>Hint: make sure that you press and hold</italic>
<inline-graphic xlink:href="41205_2015_2_Figz_HTML.gif" id="d29e2149"/>
<italic>on your keyboard before left clicking on the STL files)</italic>. Our models will be automatically imported onto the software representation of the build tray of the printer (Fig.&#x000a0;<xref rid="Fig32" ref-type="fig">32</xref>). The orientation of the heart and VSD is optimized so that the support material needed for the 3D printing job can be minimized. For example, it would be possible, but far less efficient, to print the patch standing &#x0201c;upright&#x0201d; rather than &#x0201c;lying down&#x0201d;.</p></list-item><list-item><p id="Par72">Visualizing the model on the build tray. The default view of the entire build tray of the 3D printer is in a single isometric view. In the tab <bold>Model Settings</bold> you can zoom into the models in this view by clicking the icon <bold>Zoom Tray</bold>, and selecting <bold>Zoom Selected Object</bold>. The result will appear as shown in Fig.&#x000a0;<xref rid="Fig33" ref-type="fig">33</xref>.</p><p id="Par73">In practice, with several objects on the build tray, it is important to be able to change the orientation of the model. This can be done by choosing <bold>Isometric View</bold>, and navigating the pull-down menu to <bold>Top View</bold>, then repeating the zoom by clicking the icon <bold>Zoom Tray</bold> and selecting <bold>Zoom Selected Object</bold>. This series of commands will move the model on the tray with the result as shown in Fig.&#x000a0;<xref rid="Fig34" ref-type="fig">34</xref>. For certain printing jobs it is advantageous to study the model in a 4-axis view. To do this, click the icon <bold>Single View</bold> and select <bold>4 View</bold>. To make your screen appear as in Fig.&#x000a0;<xref rid="Fig35" ref-type="fig">35</xref>, click on each individual window, make sure that the heart and the Patch models are selected by single-clicking on them, and select <bold>Zoom Object</bold> for a close-up view. To complete further operations on this model, return to the single window view by clicking the <bold>4 View</bold> icon and then selecting <bold>Single View</bold>. Then click on <bold>Isometric View</bold>, and select the <bold>Northeast Orientation</bold> from the pull-down menu. Zoom into the selected model by clicking <bold>Zoom Object</bold>. This would appear as shown in Fig.&#x000a0;<xref rid="Fig36" ref-type="fig">36</xref>.</p></list-item><list-item><p id="Par74">Next, we will assign the material of choice in order to build the model and start the 3D printing job. Click on the tab labeled <bold>Tray Settings</bold>. We will change the material settings to <bold>Tango+</bold>, an elastomeric material. To do this, select the first material pull-down menu on the right of the <bold>Tray Setting</bold> menu and select <bold>Tango+</bold>. (<italic>Hint: Single Material should be checked and Multiple Materials unselected)</italic>. Our model will change color, reflecting the printing in <bold>Tango+</bold>. There will be a confirmatory dialog box pop-up.</p></list-item><list-item><p id="Par75">Estimating the build time and material usage before sending to the 3D Printer. Simply click the <bold>Estimate</bold> icon <inline-graphic xlink:href="41205_2015_2_Figaa_HTML.gif" id="d29e2260"/> and <bold><italic>Objet Studio</italic></bold> will prepare a material usage estimate and build time. This icon can be found in the upper left of our screen and selecting it will open up the <bold>Production Estimate</bold> window (Fig.&#x000a0;<xref rid="Fig37" ref-type="fig">37</xref>). Due to the lack of a server, <bold><italic>Objet Studio</italic></bold> will not be actively connected to a printer. Build times and consumption of material can vary depending on the printer. You can now close the <bold>Production Estimate</bold> window by selecting <bold>OK</bold>.</p></list-item><list-item><p id="Par76">In a production environment where the printer is connected to a print server, we would then proceed to the <bold>Job Manager</bold> tab to connect to the printer, send the job, and ensure that the material store in the printer is sufficient (Fig.&#x000a0;<xref rid="Fig38" ref-type="fig">38</xref>).</p></list-item></list>
<fig id="Fig29"><label>Fig. 29</label><caption><p>
<italic>Objet Studio</italic> Server connection window</p></caption><graphic xlink:href="41205_2015_2_Fig29_HTML" id="MO29"/></fig>
<fig id="Fig30"><label>Fig. 30</label><caption><p>
<italic>Objet Studio</italic> software environment project screen</p></caption><graphic xlink:href="41205_2015_2_Fig30_HTML" id="MO30"/></fig>
<fig id="Fig31"><label>Fig. 31</label><caption><p>Inserting the STL files of the patch and the trimmed heart models to <italic>Objet Studio</italic>
</p></caption><graphic xlink:href="41205_2015_2_Fig31_HTML" id="MO31"/></fig>
<fig id="Fig32"><label>Fig. 32</label><caption><p>
<italic>Objet Studio</italic> software representation of the build tray of the printer with the two models imported and automatically oriented</p></caption><graphic xlink:href="41205_2015_2_Fig32_HTML" id="MO32"/></fig>
<fig id="Fig33"><label>Fig. 33</label><caption><p>Single zoomed Isometric view of the models on the build tray. The Trimmed Heart and the Patch models are indicated</p></caption><graphic xlink:href="41205_2015_2_Fig33_HTML" id="MO33"/></fig>
<fig id="Fig34"><label>Fig. 34</label><caption><p>Single zoomed Top view of the models on the build tray</p></caption><graphic xlink:href="41205_2015_2_Fig34_HTML" id="MO34"/></fig>
<fig id="Fig35"><label>Fig. 35</label><caption><p>4 window zoomed Northeastern view of the models on the build tray</p></caption><graphic xlink:href="41205_2015_2_Fig35_HTML" id="MO35"/></fig>
<fig id="Fig36"><label>Fig. 36</label><caption><p>Single zoomed Northeastern view of the models on the build tray</p></caption><graphic xlink:href="41205_2015_2_Fig36_HTML" id="MO36"/></fig>
<fig id="Fig37"><label>Fig. 37</label><caption><p>Production estimate window</p></caption><graphic xlink:href="41205_2015_2_Fig37_HTML" id="MO37"/></fig>
<fig id="Fig38"><label>Fig. 38</label><caption><p>Job manager module</p></caption><graphic xlink:href="41205_2015_2_Fig38_HTML" id="MO38"/></fig>
</p></sec></sec><sec id="Sec18"><title>Conclusions</title><p id="Par77">While medical 3D printing expands rapidly to becoming part of routine clinical practice in hospitals throughout the world, the expertise of generating and tailoring STL files remains in a small niche that traditionally has been centered in an engineering milieu. The hands-on material presented and illustrated will expand the expertise, and ownership, of image post-processing required for 3D printing among the radiology community. As precision medicine and patient-centric care is realized via custom-designed 3D printed models, knowledge and technical aptitude for STL files will be for the many, rather than just for the few.</p></sec></body><back><glossary><title>Abbreviations</title><def-list><def-item><term>3D</term><def><p id="Par2">three dimensional</p></def></def-item><def-item><term>AF</term><def><p id="Par3">additive fabrication</p></def></def-item><def-item><term>AM</term><def><p id="Par4">additive manufacturing</p></def></def-item><def-item><term>CAD</term><def><p id="Par5">computer-aided design</p></def></def-item><def-item><term>CHD</term><def><p id="Par6">congenital heart disease</p></def></def-item><def-item><term>CT</term><def><p id="Par7">computed tomography</p></def></def-item><def-item><term>DICOM</term><def><p id="Par8">digital imaging and communications in medicine</p></def></def-item><def-item><term>DORV</term><def><p id="Par9">double outlet right ventricle</p></def></def-item><def-item><term>HU</term><def><p id="Par10">hounsfield units</p></def></def-item><def-item><term>MRI</term><def><p id="Par11">magnetic resonance imaging</p></def></def-item><def-item><term>RF</term><def><p id="Par12">rapid fabrication</p></def></def-item><def-item><term>RP</term><def><p id="Par13">rapid prototyping</p></def></def-item><def-item><term>RSNA</term><def><p id="Par14">Radiological Society of North America</p></def></def-item><def-item><term>STL</term><def><p id="Par15">standard tessellation language</p></def></def-item><def-item><term>VSD</term><def><p id="Par16">ventricular septal defect</p></def></def-item></def-list></glossary><fn-group><fn><p>Andreas A. Giannopoulos and Leonid Chepelev contributed equally to this work.</p></fn><fn><p><bold>Competing interests</bold></p><p>TP is an employee of Materialise.</p></fn><fn><p><bold>Authors&#x02019; contributions</bold></p><p>AAG, LC, FJR, DM, TP conceived the design, analyzed the data, drafted, edited and critically revised the manuscript. PBD, carried out data collection and analysis. AS, AW, WD, EA, CH, NW, TP, PBD, interpreted the data and drafted the manuscript. All authors have read and have given final approval of the version to be published. All authors read and approved the final manuscript.</p></fn></fn-group><ref-list id="Bib1"><title>References</title><ref id="CR1"><label>1.</label><mixed-citation publication-type="other">Mitsouras D, Liacouras P, Imandzadeh A, Giannopoulos A, Cai T, Kumamaru K, et al. Medical 3D printing for the radiologist. Radiographics. 2015;35(7):1965&#x02013;88. <ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.1148/radiographics.19.3.g99ma14745">http://dx.doi.org/10.1148/radiographics.19.3.g99ma14745</ext-link>.</mixed-citation></ref><ref id="CR2"><label>2.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Obler</surname><given-names>D</given-names></name><name><surname>Juraszek</surname><given-names>AL</given-names></name><name><surname>Smoot</surname><given-names>LB</given-names></name><name><surname>Natowicz</surname><given-names>MR</given-names></name></person-group><article-title>Double outlet right ventricle: aetiologies and associations</article-title><source>J Med Genet</source><year>2008</year><volume>45</volume><issue>8</issue><fpage>481</fpage><lpage>97</lpage><pub-id pub-id-type="doi">10.1136/jmg.2008.057984</pub-id><pub-id pub-id-type="pmid">18456715</pub-id></element-citation></ref><ref id="CR3"><label>3.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Walters Iii</surname><given-names>HL</given-names></name><name><surname>Mavroudis</surname><given-names>C</given-names></name><name><surname>Tchervenkov</surname><given-names>CI</given-names></name><name><surname>Jacobs</surname><given-names>JP</given-names></name><name><surname>Lacour-Gayet</surname><given-names>F</given-names></name><name><surname>Jacobs</surname><given-names>ML</given-names></name></person-group><article-title>Congenital Heart Surgery Nomenclature and Database Project: double outlet right ventricle</article-title><source>Ann Thorac Surg</source><year>2000</year><volume>69</volume><issue>3, Supplement 1</issue><fpage>249</fpage><lpage>63</lpage><pub-id pub-id-type="doi">10.1016/S0003-4975(99)01247-3</pub-id></element-citation></ref><ref id="CR4"><label>4.</label><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Mahle</surname><given-names>WT</given-names></name><name><surname>Martinez</surname><given-names>R</given-names></name><name><surname>Silverman</surname><given-names>N</given-names></name><name><surname>Cohen</surname><given-names>MS</given-names></name><name><surname>Anderson</surname><given-names>RH</given-names></name></person-group><article-title>Anatomy, echocardiography, and surgical approach to double outlet right ventricle</article-title><source>Cardiol Young</source><year>2008</year><volume>18</volume><issue>S3</issue><fpage>39</fpage><lpage>51</lpage><pub-id pub-id-type="doi">10.1017/S1047951108003284</pub-id><pub-id pub-id-type="pmid">19094378</pub-id></element-citation></ref></ref-list></back></article>